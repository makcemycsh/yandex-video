{"version":3,"sources":["main.js"],"names":["$","document","on","this","toggleClass","template","event","card","size","type","icon","title","source","time","data","dataMusic","dataMain","insertHtml","dataImage","description","dataTemplate","btn","dataWeather","albumcover","temperature","buttons","dataButtons","dataGraph","$parent","map","join","humidity","artist","track","name","length","volume","$content","append","ready","handleEvents","getJSON","done","each","events","i","item","e","Handler"],"mappings":"aAAAA,SAAEC,eAeAD,EAAE,gBAAgBE,GAAG,QAAS,WAD9BF,EAAAG,MAAAC,YAAA,eAaD,SAPDC,SAAAC,GAUE,IAAIC,EAAAA,0BAAiCD,EAAME,KAAvC,MAA+D,aAAfF,EAAMG,KAAN,gBAA8C,IAA9F,mGAkBJH,EAAAI,KAlBI,+CAmBLJ,EAAAK,MAnBK,sGAsBJL,EAAAM,OAtBI,iDA0BLN,EAAAO,KA1BK,iDA6BJP,EAAUQ,aAAkBC,EAAAA,KAAAC,SAA5BV,GAAA,IA7BI,uNA6CNW,WAASC,EAAAA,iBAAgBlB,EAAAO,IAxBzB,SAASS,SAASF,GA0ClB,MAAA,sCACEA,EAAAK,YAAA,2BAAAL,EAAAK,YAAA,OAAA,IADF,YAGmCL,EAAAA,KAAAM,aAAAN,EAAAA,MAAgCO,IAHnE,iBAQA,SAASC,aAAYR,GACnB,OAAAA,EAAAS,WAAAR,UAAAD,GAAA,IAAA,QAcDA,EAAAU,YAAAF,YAAAR,GAAA,IAdC,QAzCEA,EAAKW,QAAUC,YAAYZ,GAAQ,IAyCrC,QAgBFA,EAASC,MAAAA,UAAgBD,GAAA,IAhBvB,QAiBA,UAAAA,EAAAL,KAAAkB,UAAAb,GAAA,IAgCF,SAASG,UAATH,GACEc,MAAAA,wOA7EF,SAASV,UAAUJ,GACjB,MAAA,gsBAiBF,SAASY,YAAYZ,GACnB,MAAA,uFAEgBA,EAAKW,QAAQI,IAAI,SAAAR,GAAA,MAAA,0BAAwC,OAARA,EAAA,aAA8B,IAA9D,KAAsEA,EAAtE,cAAsFS,KAAK,IAF5H,yCAOF,SAASR,YAAYR,GACnB,MAAA,8NAI6DA,EAAKU,YAJlE,iNAS2DV,EAAKiB,SAThE,6FAgBF,SAAShB,UAAUD,GACjB,MAAA,mLAI0BA,EAAKS,WAJ/B,UAImDT,EAAKkB,OAJxD,oIAQiBlB,EAAKkB,OARtB,MAQkClB,EAAKmB,MAAMC,KAR7C,qOAauCpB,EAAKmB,MAAME,OAblD,sdAuBkDrB,EAAKsB,OAvBvD,+CAwBuCtB,EAAKsB,OAxB5C,gHAgCF,SAASnB,WAAWW,EAASS,GAC3BT,EAAQU,OAAOD,GAxJjBrC,EAAEC,UAAUsC,MAAMC,cAkBjBxC,EAAAyC,QAAA,2BAAAC,KAAA,SAAA5B,GAGCd,EAAE2C,KAAK7B,EAAK8B,OAAQ,SAAUC,EAAGC,GADjCL,SAAQK,KAENzC,EAAAA,qBAAAsC,KAAA,SAAAE,EAAAE,GADF,IAAAC,QAAAD","file":"main.js","sourcesContent":["$(document).ready(handleEvents);\n\nfunction handleEvents() {\n  // Фиксация хедера при скролле\n  // $(window).scroll(function () {\n  //   if ($(this).scrollTop() > 150) {\n  //     $('body').addClass('head-is-fixed');\n  //     $('.head-is-fixed').css('margin-top', $('.js-head').outerHeight(true));\n  //   } else {\n  //     $('.head-is-fixed').css('margin-top', 0);\n  //     $('body').removeClass('head-is-fixed');\n  //   }\n  // });\n\n  //Выпадающее меню\n  $('.js-menu-bar').on('click', function () {\n    $(this).toggleClass('is-active');\n  });\n}\n\n$.getJSON(\"assets/json/events.json\").done(function (data) {\n  $.each(data.events, function (i, item) {\n    template(item);\n  });\n  $('.js-pointer-event').each(function (i, e) {\n    new Handler(e);\n  })\n});\n\nfunction template(event) {\n  let card = `<div class=\"b-card mod-${event.size}  ${event.type === 'critical' ? `mod-attention` : ''} \">\n      <div class=\"b-card__head\">\n        <header>\n          <i class=\"b-card__ico icon i-${event.icon}\"></i>\n          <h3 class=\"b-card__title\">${event.title}</h3>\n        </header>\n        <div class=\"b-card__info\">\n          <span class=\"b-card__name\">${event.source}</span>\n          <span class=\"b-card__time\">${event.time}</span>\n        </div>\n      </div>\n      ${event.description || event.data ? dataMain(event) : ''}\n      <button class=\"b-card__close\"><i class=\"b-card__ico icon i-close\"></i>\n      </button>\n      <a href=\"#\" class=\"b-card__link\">\n        <i class=\"b-card__ico icon i-arrow-r\"></i>\n      </a>\n    </div>`;\n  insertHtml($('#js-card-list'), $(card));\n}\n\nfunction dataMain(data) {\n  return `<div class=\"b-card__main\">\n      ${data.description ? `<p class='b-card__text'>${data.description}</p>` : ''}\n      ${data.data ? dataTemplate(data.data) : ''}\n      </div>`;\n}\n\nfunction dataTemplate(data) {\n  return `${data.albumcover ? dataMusic(data) : ''}\n  ${data.temperature ? dataWeather(data) : ''}\n  ${data.buttons ? dataButtons(data) : ''}\n  ${data.image ? dataImage(data) : ''}\n  ${data.type === 'graph' ? dataGraph(data) : ''}`;\n}\n\nfunction dataGraph(data) {\n  return `<div class=\"b-card__data\">\n           <picture>\n            <source srcset=\"assets/img/Richdata.svg\" type=\"image/svg+xml\">\n            <img src=\"assets/img/Richdata@2x.png\" alt=\"yandex\">\n          </picture>\n          </div>`\n}\n\nfunction dataImage(data) {\n  return `<div class=\"b-card__data js-pointer-event\">\n          <div class=\"b-cam\">\n            <div class=\"b-cam__img\">\n            <div class=\"b-cam__wrapper js-img-wrapper\">\n            <img src=\"assets/img/card-1.png\" alt=\"yandex\"\n               srcset=\"assets/img/card-1@x2.png 800w, assets/img/card-1@x3.png 1200w\">\n               </div>\n                <div class=\"b-cam__scroll mod-only-touch js-scroll\"></div>\n               </div>\n            <div class=\"b-cam__stat mod-only-touch\">\n              <span>Приближение: <span class=\"js-zoom\">45</span>%</span>\n              <span>Яркость: <span class=\"js-brightness\">50</span>%</span>\n            </div>\n            </div>\n           </div>`\n}\n\nfunction dataButtons(data) {\n  return `<div class=\"b-card__data\">\n            <div class=\"b-card__btns\">\n                ${data.buttons.map(btn => ` <button class=\"b-btn ${btn === 'Да' ? `mod-yellow` : '' }\">${btn}</button>`).join('')}\n            </div>\n          </div>`;\n}\n\nfunction dataWeather(data) {\n  return `<div class=\"b-card__data\">\n            <div class=\"b-data-set\">\n              <div class=\"b-data-set__item\">\n                <p class=\"b-data-set__name\">\n                  Температура: <span class=\"b-data-set__val\">${data.temperature} C</span>\n                </p>\n              </div>\n              <div class=\"b-data-set__item\">\n                <p class=\"b-data-set__name\">\n                  Влажность: <span class=\"b-data-set__val\">${data.humidity}%</span>\n                </p>\n              </div>\n            </div>\n          </div>`;\n}\n\nfunction dataMusic(data) {\n  return `<div class=\"b-card__data\"> \n           <div class=\"b-music\">\n            <div class=\"b-music__section\">\n              <div class=\"b-music__logo\">\n                <img src=\"${data.albumcover}\" alt=\"${data.artist}\">\n              </div>\n              <div class=\"b-music__info\">\n                <p class=\"b-music__name\">\n                 ${data.artist} - ${data.track.name}\n                </p>\n                <div class=\"b-music__duration\">\n                  <input id='range-1' type=\"range\" name=\"volume\"\n                         min=\"0\" max=\"100\"/>\n                  <label for=\"range-1\">${data.track.length}</label>\n                </div>\n              </div>\n            </div>\n            <div class=\"b-music__section\">\n              <div class=\"b-music__controls\">\n                <button class=\"b-music__prev icon i-prev\"></button>\n                <button class=\"b-music__next icon i-next\"></button>\n                <div class=\"b-music__val\">\n                  <input id='range-2' type=\"range\" name=\"volume\"\n                         min=\"0\" max=\"100\" value=\"${data.volume}\"/>\n                  <label for=\"range-2\">${data.volume}%</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>`;\n}\n\nfunction insertHtml($parent, $content) {\n  $parent.append($content);\n}\n"],"sourceRoot":"/source/"}